---
title: CSS-BFC
layout: post
date: 2019-02-17 20:21:10
categories: CSS
tags: CSS
---

## BFC

> BFC(Block Formatting Context)是 Web 页面中盒模型布局的 CSS 渲染模式，它的定位体系属于常规文档流。

#### 创建 BFC

- float 值不为 none
- position 值不为 static 或 relative
- display 值为 table-cell、table-caption、inline-block、flex、inline-flex
- overflow 值不为 visible

#### BFC 特性

- 内部的 Box 会在垂直方向，从顶部开始一个接一个地放置
- Box 垂直方向的距离由 margin 决定。属于同一个 BFC 的两个相邻 Box 的 margin 会发生叠加
- 每个元素的 margin box 的左边， 与包含块 border box 的左边相接触(对于从左往右的格式化，否则相反)。即使存在浮动也是如此
- BFC 的区域不会与 float box 叠加
- BFC 就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素，反之亦然
- 计算 BFC 的高度时，浮动元素也参与计算

#### 中的盒子对齐

在 BFC 中，每个盒子的左外边框紧挨着包含块的左边框（从右到左的格式，则为紧挨右边框）。即使存在浮动也是这样的（尽管一个盒子的边框会由于浮动而收缩），除非这个盒子的内部创建了一个新的 BFC 浮动，（这种情况下，由于浮动，盒子本身将会变得更窄）

#### BFC 导致外边距折叠

在常规文档流中，盒子都是从包含块的顶部开始一个接着一个垂直堆放。同一个 BFC 中的两个兄弟盒子之间的垂直距离是由他们个体的外边距所决定的，但不是他们的两个外边距之和。

#### 使用 BFC 来防止外边距折叠

如果盒子属于不同的 BFC，他们之间的外边距将不会折叠。所以通过创建一个新的 BFC 我们可以防止外边距折叠。

#### 使用 BFC 来包含浮动

通过定义一个 BFC 可以解决容器中由于存在浮动元素而导致的脱离常规文档流问题

#### 使用 BFC 防止文字环绕

看下面的例子：

```
<style>
    .container {
      height: 300px;
      width: 300px;
      background: red;
    }
    .floated {
      height: 100px;
      width: 100px;
      background: green;
      float: left;
    }
    .bfc {
      overflow: hidden;
    }
</style>
<div class="container">
    <div class="floated">浮动的div</div>
    <p class="bfc">
    我们是社会主义接班人 我们是社会主义接班人 我们是社会主义接班人
    我们是社会主义接班人 我们是社会主义接班人 我们是社会主义接班人
    我们是社会主义接班人 我们是社会主义接班人 我们是社会主义接班人
    </p>
</div>
// 不加上 bfc class 文字将围绕在浮动的 div 周围，加上 bfc class 之后 文字将不会环绕
```
